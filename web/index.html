<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GEO - PROJECT | WEB</title>

  <!-- Font & CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Open Graph Meta Tags (Telegram, Facebook, dll) -->
  <meta property="og:title" content="Desbar Browser - Daftar Proxy Aman & Cepat" />
  <meta property="og:description" content="Akses berbagai proxy VLESS, VMess, Trojan, dan Shadowsocks dengan mudah dan cepat." />
  <meta property="og:image" content="https://raw.githubusercontent.com/jaka2m/mau/refs/heads/kepo/a.png" />
  <meta property="og:url" content="https://joss.checker-ip.xyz/" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Desbar Browser - Daftar Proxy Aman & Cepat">
  <meta name="twitter:description" content="Akses berbagai proxy VLESS, VMess, Trojan, dan Shadowsocks dengan mudah dan cepat.">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/jaka2m/mau/refs/heads/kepo/a.png">

  <!-- Favicon -->
  <link rel="icon" href="https://raw.githubusercontent.com/jaka2m/mau/refs/heads/kepo/G.png" type="image/x-icon" />
  <style>
    :root {
    --primary: #00ff88;
    --secondary: #00ffff;
    --accent: #ff00ff;
    --dark: #080c14;
    --darker: #040608;
    --light: #e0ffff;
    --card-bg: rgba(8, 12, 20, 0.95);
    --glow: 0 0 20px rgba(0, 255, 136, 0.3);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Space Grotesk', sans-serif;
}

body {
  background: url('https://raw.githubusercontent.com/jaka2m/mau/refs/heads/kepo/backround.jpg') no-repeat center center fixed;
  background-size: cover;
  justify-content: center;
  align-items: center;
  background-size: 300% 300%; /* Untuk animasi gradient */
  color: #fff; /* Teks putih agar kontras */
  margin: 0;
  font-family: Arial, sans-serif; /* Font sederhana dan bersih */
  animation: rainbowBackground 10s infinite; /* Animasi bergerak */
}

/* Animasi untuk background */
@keyframes rainbowBackground {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes moveColors {
  100% {
    background-position: -200%; /* Mulai dari luar kiri */
  }
  0% {
    background-position: 200%; /* Bergerak ke kanan */
  }
}

h2 {
    font-family: "Orbitron", sans-serif;
    color: #00ff00;
    text-align: center;
    margin: 0;
    padding: 20px;
    position: sticky;
    top: 0;
    z-index: 1000;
    text-shadow: 
                0 0 5px rgba(0, 123, 255, 0.8),
                0 0 10px rgba(0, 123, 255, 0.8),
                0 0 20px rgba(0, 123, 255, 0.8),
                0 0 30px rgba(0, 123, 255, 0.8),
                0 0 40px rgba(0, 123, 255, 0.8);
    
         background: linear-gradient(45deg, var(--primary), var(--secondary), var(--dark));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 30px #000;
        position: relative;
        animation: titlePulse 3s ease-in-out infinite;
}

h1 {
      font-family: "Orbitron", sans-serif;
      padding-top: 10px;
      margin-top: 10px;
      color: black;
            text-align: center;
            font-size: 5vw;
            font-weight: bold;
            text-shadow: 
                0 0 5px rgba(0, 123, 255, 0.8),
                0 0 10px rgba(0, 123, 255, 0.8),
                0 0 20px rgba(0, 123, 255, 0.8),
                0 0 30px rgba(0, 123, 255, 0.8),
                0 0 40px rgba(0, 123, 255, 0.8);
    
         background: linear-gradient(45deg, var(--primary), var(--secondary), var(--dark));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 30px #000;
        position: relative;
        animation: titlePulse 3s ease-in-out infinite;
    }

      footer {
      box-sizing: border-box;
      background-color: ;
      color: white;
      text-align: center;
      border-radius: 10px;
      padding: 0 20px;
      position: fixed;
      width: 100%;
      left: 0;
      right: 2px;
      pointer-events: none;
      z-index: 10;
    }

    footer {
      bottom: 0;
    }
    
.table-container {
  background: linear-gradient(135deg, rgba(220, 20, 60, 0.25), rgba(128, 0, 0, 0.25)); /* merah ke maroon */
  border-radius: 16px;
  overflow-x: auto;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

table.dataTable {
    background-color: rgba(20, 40, 60, 0.2);
    border-collapse: collapse;
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    color: #e0f7ff;
}

table.dataTable thead th {
    background-color: rgba(50, 80, 120, 0.4);
    color: #aeeeff;
    text-align: ;
    padding: 12px;
    backdrop-filter: blur(5px);
}

table.dataTable tbody td {
    background-color: rgba(30, 60, 90, 0.2);
    color: #eaf6ff;
    text-align: center;
    padding: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.status-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

.status {
    font-weight: bold;
    font-size: 14px;
    text-align: center;
}

.status.active {
    color: #00ff66;
}

.status.inactive {
    color: #ff4d4d;
}

.status.error {
    color: #ffcc00;
}

.status i {
    font-size: 24px;
    display: block;
    text-align: center;
    margin: 0 auto;
}

.delay {
    font-size: 12px;
    color: #ccc;
    text-align: center;
}

.modal {
    display: none;
    position: fixed;
    z-index: 99;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
    
}

.modal.show {
    display: flex;
    
}

.modal-content {
  background: rgba(255, 255, 255, 0.05); /* transparan */
  color: #ffffff;
  padding: 20px;
  width: 90%;
  max-width: 400px;
  border-radius: 16px;

  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.4),
    inset 0 0 10px rgba(255, 255, 255, 0.05);

  border: 1px solid rgba(255, 255, 255, 0.2);
  animation: slideIn 0.3s ease forwards;
  transition: all 0.3s ease;
}

.modal-content.hide {
  animation: slideOut 0.3s ease forwards;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-100%);
    }
}

.modal-header {
    font-size: 18px;
  margin-bottom: 10px;
  color: #00ffff;
  font-weight: bold;
  text-align: center;
  background: rgba(255, 255, 255, 0.05);
  padding: 12px;
  border-radius: 8px;
}

.config-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 15px;
  background: rgba(255, 255, 255, 0.05); /* semi transparan */
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  padding: 15px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.config-buttons button {
  padding: 8px 16px;
  background: rgba(0, 255, 255, 0.15); /* transparan glassy */
  color: #00ffff;
  border: 1px solid rgba(0, 255, 255, 0.4);
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  font-size: 14px;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 4px 20px rgba(0, 255, 255, 0.2);
  transition: background 0.3s ease, box-shadow 0.3s ease;
}

.config-buttons button:hover {
  background: rgba(0, 255, 255, 0.25);
  box-shadow: 0 6px 24px rgba(0, 255, 255, 0.35);
}

.close {
    float: right;
    font-size: 20px;
    cursor: pointer;
}

    button {
    padding: 6px 12px;
    margin: 4px;
    border: none;
    border-radius: 6px;
    background-color: #00ff9f;
    color: black;
    font-weight: bold;
    cursor: pointer;
    transition: opacity 0.3s ease, background-color 0.3s ease;
}

button:hover {
    background-color: #00e68a;
}

button:disabled {
    opacity: 0.6;
    background-color: #888;
    cursor: not-allowed;
}

.swal2-dark.compact-popup {
    font-size: 13px;
    line-height: 1.2;
}

.swal2-small-title {
    font-size: 14px !important;
}

.quantum-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 2rem;
    perspective: 1000px;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .quantum-container {
        padding: 0.5rem;
        margin: 0.5rem;
    }

    .quantum-table {
        width: 100%;
        min-width: 800px;
        border-collapse: separate;
        border-spacing: 0 8px;
    }

    .quantum-table th {
        background: rgba(0, 255, 136, 0.1);
        color: var(--primary);
        padding: 1.2rem;
        font-family: 'Rajdhani', sans-serif;
        font-weight: 600;
        font-size: 1.1rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        border-bottom: 2px solid var(--primary);
        white-space: nowrap;
        position: sticky;
        top: 0;
        z-index: 10;
    }

    .quantum-table td {
        padding: 1rem;
        background: rgba(0, 255, 136, 0.03);
        border: none;
        transition: all 0.3s ease;
    }

    .quantum-table tr {
        transition: all 0.3s ease;
    }

    .quantum-table tr:hover td {
        background: rgba(0, 255, 136, 0.08);
        transform: scale(1.01);
        box-shadow: 0 5px 15px rgba(0, 255, 136, 0.1);
    }

    .check-btn {
        padding: 6px 12px;
        background-color: #00ff9f;
        color: #000;
        border: none;
        cursor: pointer;
        font-size: 14px;
    }

  .spinner {
  display: inline-block;
  top: 50%;
  left: 50%;
  width: 30px;
  height: 30px;
  border: 4px solid rgba(255, 255, 255, 0.1);
  border-top: 4px solid #00ff9f;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 12px #00ff9f88;
}

@keyframes spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

    .status {
        position: relative;
    }

    .status button.check-btn {
        display: inline-block;
    }

    .status .spinner {
        display: none;
    }
}

.delay {
  font-size: 10px;
  color: yellow;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
    filter: drop-shadow(0 0 5px lime);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.1);
    filter: drop-shadow(0 0 15px lime);
  }
}

.status.active {
  color: #00ff00; /* Hijau terang */
  animation: pulse 1s infinite;
}

  </style>
</head>
<body>  
	<footer class="footer">
    <h1>&copy; 2025 FREE VPN CF</h1>
  </footer>
	<div class="quantum-container">
  <h2>GEO PROJECT</h2>
  <div class="table-container">
    <table id="proxyTable" class="display">
      <thead>
        <tr>
          <th>IP PORT</th>
          <th>STATUS</th>
          <th>COUNTRY</th>
          <th>ISP</th>
          <th>ACTION</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <br>

  <!-- Modal Protokol -->
  <div id="protocolModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('protocolModal')">&times;</span>
      <div class="modal-header">Pilih Protokol</div>
      <div class="config-buttons">
  <button onclick="selectProtocol('vmess')">VMESS</button>
  <button onclick="selectProtocol('vless')">VLESS</button>
  <button onclick="selectProtocol('trojan')">TROJAN</button>
  <button onclick="selectProtocol('ss')">SHADOW</button>
</div>
</div>
  </div>

  <!-- Modal TLS -->
  <div id="tlsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('tlsModal')">&times;</span>
      <div class="modal-header">Pilih TLS / Non-TLS</div>
      <div class="config-buttons">
        <button onclick="copyConfig('tls')">Copy TLS</button>
        <button onclick="copyConfig('nontls')">Copy NTLS</button>
      </div>
    </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script>
    let currentConfigType = {};

    async function loadProxies() {
  const url = 'https://raw.githubusercontent.com/jaka2m/botak/refs/heads/main/cek/proxyList.txt';
  const res = await fetch(url);
  const text = await res.text();
  const lines = text.trim().split('\n');

  const rows = lines.map(line => {
    const [ip, port, country, isp] = line.split(',');
    const flag = country ? `<img src="https://flagcdn.com/w40/${country.trim().toLowerCase()}.png" style="height:16px; margin-right:5px;">` : '';
    return [
      `${ip}:${port}`,
      `<div class="status-block" data-checked="false"><div class="spinner"></div></div>`,
      `${flag} ${country || '-'}`,
      isp || '-',
      `<button class="config-btn" onclick="openProtocolModal('${ip}', '${port}', '${country}', '${isp}')">Config</button>`
    ];
  });

      const table = $('#proxyTable').DataTable();
      table.clear().rows.add(rows).draw();
    }

    function openProtocolModal(ip, port, country, isp) {
      currentConfigType = { ip, port, country, isp };
      openModal('protocolModal');
    }

    function selectProtocol(protocol) {
      closeModal('protocolModal');
      currentConfigType.protocol = protocol;
      openModal('tlsModal');
    }

    function copyConfig(tlsType) {
      const { ip, port, country, isp, protocol } = currentConfigType;
      const uuid = 'f282b878-8711-45a1-8c69-5564172123c1';
      const host = 'joss.checker-ip.xyz';
      const path = `/Geo-Project/${ip}-${port}`;
      const tag = `${country} - ${isp}`.replace(/ /g, '%20');

      let config = '';
      if (protocol === 'vmess') {
        const vmessJSON = {
          v: "2", ps: `${country} - ${isp} [VMess-${tlsType.toUpperCase()}]`,
          add: host, port: parseInt(port), id: uuid, aid: "0", net: "ws",
          type: "none", host: host, path: path, tls: tlsType === 'tls' ? "tls" : "none",
          sni: host, scy: "zero"
        };
        config = "vmess://" + btoa(JSON.stringify(vmessJSON));
      } else if (protocol === 'vless') {
        config = `vless://${uuid}@${host}:443?encryption=none&security=${tlsType}&type=ws&host=${host}&path=${encodeURIComponent(path)}&sni=${host}#${tag}%20[VLESS-${tlsType.toUpperCase()}]`;
      } else if (protocol === 'trojan') {
        config = `trojan://${uuid}@${host}:443?security=${tlsType}&type=ws&host=${host}&path=${encodeURIComponent(path)}&sni=${host}#${tag}%20[Trojan-${tlsType.toUpperCase()}]`;
      } else if (protocol === 'ss') {
        config = `ss://bm9uZTpmMjgyYjg3OC04NzExLTQ1YTEtOGM2OS01NTY0MTcyMTIzYzE=@${host}:443?encryption=none&type=ws&host=${host}&path=${encodeURIComponent(path)}&security=${tlsType}&sni=${host}#${tag}%20[SS-${tlsType.toUpperCase()}]`;
      }

      navigator.clipboard.writeText(config).then(() => {
        Swal.fire({
          icon: 'success',
          background: 'rgba(0, 255, 255, 0.15)',
          color: 'white',
          title: 'Copied!',
          html: `<textarea style="width:100%;height:150px;padding:10px;font-size:14px;background:rgba(0,0,0,0.4);color:#00ff9f;border:1px solid #00ff9f;border-radius:8px;" readonly>${config}</textarea>`,
          width: 270,
          confirmButtonText: 'Oke'
        });
      }).catch(() => {
        Swal.fire({
          icon: 'error',
          title: 'Gagal Menyalin',
          text: 'Terjadi kesalahan saat menyalin konfigurasi.'
        });
      });

      closeModal('tlsModal');
    }

    async function checkStatus(ip, port, container) {
      const corsProxy = 'https://cors.checker-ip.web.id/?url=';
      const url = `${corsProxy}https://api.checker-ip.web.id/check?ip=${ip}:${port}`;

      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error();
        const data = await response.json();
        const status = data.status === 'ACTIVE' ? 'active' : 'inactive';
        const icon = status === 'active' ? '<i class="fas fa-check-circle"></i>' : '<i class="fas fa-times-circle"></i>';
        const delay = data.delay || 0;
        container.innerHTML = `<div class="status ${status}">${icon}</div><span class="delay">(${delay})</span>`;
      } catch {
        container.innerHTML = `<div class="status error"><i class="fas fa-exclamation-circle"></i> DEAD</div>`;
      }
    }

    function checkVisibleRows() {
  const table = $('#proxyTable').DataTable();
  table.rows({ page: 'current' }).every(function () {
    const row = $(this.node());
    const ipPort = row.find('td').eq(0).text().split(':');
    const ip = ipPort[0], port = ipPort[1];
    const statusCell = row.find('.status-block');

    if (!statusCell.data('checked')) {
      statusCell.html('<div class="spinner"></div>');
      checkStatus(ip, port, statusCell[0]);
      statusCell.data('checked', true);
    }
  });
}

    function openModal(id) {
      document.getElementById(id).classList.add('show');
    }

    function closeModal(id) {
      const modal = document.getElementById(id);
      const content = modal.querySelector('.modal-content');
      content.classList.add('hide');
      setTimeout(() => {
        modal.classList.remove('show');
        content.classList.remove('hide');
      }, 300);
    }

    window.onclick = function (e) {
      ['protocolModal', 'tlsModal'].forEach(id => {
        const modal = document.getElementById(id);
        if (e.target === modal) closeModal(id);
      });
    }

    $(document).ready(function () {
      $('#proxyTable').DataTable({
        drawCallback: function () {
          checkVisibleRows();
        }
      });

      loadProxies().then(() => checkVisibleRows());
    });
  </script>
</body>
</html>
